Eccoci al nostro annuale appuntamento con __ JavaPolis__... no quest'anno per bontà dei legali di Sun si chiama [http://devoxx.com/display/JV08/Home|Devoxx '08] ma è sempre la maggior conferenza europea su Java, con le presentazioni nel multisala, il freddo di Anversa cui continuiamo a non abituarci, le birre più buone del mondo ma anche l'alimentazione meno sana del mondo e soprattutto 3.200 presenze per un altro sold-out alla faccia della crisi! Unico possibile effetto di quest'ultima potrebbe considerarsi il tono dei keynote, decisamente meno commerciali del solito e pertanto più digeribili ad un pubblico prevalentemente di sviluppatori come quello di questa conferenza.

!![http://www.devoxx.com/display/JV08/Conf+Day+1|Conference Day 1]!!
----
!Keynote!
Il keynote si apre col botto con l'eccezionale spettacolo di ''human beatbox'' di [http://www.roxorloops.be|RoxorLoops], che ci conferma che il Belgio quanto a gusto per la pista da ballo ne ha di talenti da vendere, oltre i ben noti Soulwax/__2ManyDJs__ ed Aeroplane! Digeriamo le brioche all'istante ed ecco che compare sul palco l'organizzatore, il nostro amico '''Stephan Jaansen''', ben contento che la sua scelta di inizio lavori abbia risvegliato il pubblico! Seguono i ringraziamenti di rito e qualche battuta sul cambio di nome forzato, poi i numeri, 3200 presenti di cui ben 400 studenti belgi che hanno ricevuto gratis il loro biglietto offerto dagli organizzatori. Stephan inoltre annuncia che, fra Parleys e gli 8 mesi di organizzazione della conferenza, è arrivato il momento e la possibilità di dedicarsi solo a queste attività e ci sarà anche spazio per un rilancio delle attività del BeJUG con un programma fitto di incontri itineranti.

Segue '''Danny Coward''' di Sun a presentare [http://www.javafx.com|JavaFX], la cui release 1.0 sarà la vera protagonista per numero di speech di questa Devoxx. La presentazione è estremamente tecnica e precisa sui contenuti delle release, a partire dalla cronologia degli annunci sin dai tempi della nascita col nome F3 come one man project di [http://blogs.sun.com/chrisoliver/Chris Oliver] ai tempi di __SeeBeyond__, quando si trattava giusto di un DSL per costruire il frontend di un negozio. Si arriva poi allo stato attuale di linguaggio di programmazione a pieno titolo per la JVM, seguono quindi la roadmap del prodotto e le 10 cose da sapere assolutamente per capire in cosa consista la tecnologia e cosa ci si possa fare. 
In sintesi al momento è stata rilasciata la versione Windows/Mac dell'SDK, il plugin per NetBeans e la cosidetta JavaFX Production Suite, ovvero plugin dedicati agli strumenti di Adobe Photoshop ed Illustrator per ottimizzare il designer-developer workflow, in modo analogo a quanto proposto dalle soluzioni Adobe con Flex e Microsoft con Silverlight. Fra l'altro fra gli stand di Devoxx, oltre ad Adobe che è sicuramente più java-oriented, troviamo anche '''Microsoft''' a presentare l'[http://www.jdotnetservices.com/|SDK Java] per la propria offerta di ''cloud computing'', [http://www.microsoft.com/azure/|Azure], attualmente in beta ad inviti. Tornando a JavaFX, ecco le demo:
	* il puzzle video che è l'occasione per parlare del supporto media, delegato alle API native Windows Media e __QuickTime__ con in più il codec cross-platform di On2 in licenza, e far vedere il drag&drop dell'applet dal browser sul desktop
	* il background animato delle presentazioni di Devoxx, costruito a partire dalla demo chiamata ''swish'' della Production Suite in tempi record
	* le demo di condivisione immagini su telefono, con JFX che esegue su JavaME, versione che verrà presentata a febbraio insieme alla versione Linux dell'SDK - qui scopriamo che Skype per JavaME usa già JFX

Si termina con alcune note sulle modifiche effettuate sul '''JRE''' a supporto di JavaFX, presenti in Java 6 Update 10. Le dimensioni sono passate da 40MB a 4.5MB in download con il Java Kernel e la funzione Java Quickstart precarica parti comuni della JVM per migliorare i tempi di avvio. Il plugin per i browser inoltre è stato completamente riscritto, in modo da renderlo più stabile e solido ed in particolare è stato dotato di un meccanismo per avviare le applet in JVM separate. Le modifiche al JRE sono già opensource ed in fase di backporting su OpenJDK, sul resto di JavaFX tutto sarà chiarito appena possibile ed alcune cose come il compilatore sono già disponibili ora, anche se non è chiaro come verranno gestite le tecnologie in licenza come quella di On2.

Il secondo keynote è di IBM sulle soluzioni di __WebSphere__ per '''Java EE ed RFID'''. L'argomento non è certo nuovo, ma lo spunto è l'implementazione fatta alla conferenza del sistema, che viene descritta in dettaglio. Il badge che è stato fornito ai partecipanti contiene un tag RFID passivo stampato su carta e all'ingresso delle varie sale sono state installate dei rilevatori RFID, nello specifico un modello contenente una JVM 1.5 in grado di illuminare i tag in modo da leggerne i dati contenuti ed inviarli ad un server di data collection. Purtroppo non tutto funziona a dovere, i tag usati si rivelano inadatti ai flussi eccessivi di persone in accesso alle sale e, le rilevazioni, visualizzate su web con grafici BIRT, risultano visibilmente falsate. Oltre la demo, una discussione prolissa sulle problematiche di RFID, slide contenenti schede prodotto pressoché illeggibili contro ogni buona regola di stile di presentazione ed infine la sensazione che ogni singola funzione X del sistema richieda un __WebSphere__ Function X Server adhoc, in un'architettura inutilmente complessa o quantomeno clamorosamente sovradimensionata rispetto alla demo.

![http://www.devoxx.com/display/JV08/Hippo+CMS+7+sneak+preview|Hippo CMS 7 sneak preview]!
Sempre alla ricerca di un CMS che risollevi le sorti di Java nel settore, seguo un po' della presentazione della nuova versione 7 di [http://www.onehippo.com/|Hippo CMS], prodotto opensource con licenza Apache e società di riferimento. Ci muoviamo ancora all'interno dell'Apache Foundation, ma con la versione 7 cambia lo stack tecnologico che passa da Cocoon ad una struttura più modulare basata su Wicket e JCR, nello specifico l'implementazione Jackrabbit. Viene mostrata la nuova console di amministrazione, semplice e funzionale, con possibilità di modificare anche la struttura su JCR dello schema del CMS. Per inserire invece i contenuti all'interno della proprie applicazioni sono disponibili diversi Site Toolkit separati, degli SDK che permettono di accedere all'Hippo Repository ad esempio via JSP o Cocoon in alternativa a quanto offerto già dalle API JCR.

![http://www.devoxx.com/display/JV08/The+future+of+rich+Internet+applications|The future of rich Internet applications]!
Il titolo della presentazione non è dei migliori, in quanto si tratta di una visione del futuro delle RIA a senso unico, ma Chet Haase, Matt Chotin e James Ward si alternano sul palco e ci presentano un ottimo compendio delle tante novità di casa Adobe già viste più estesamente in altre conferenze sul tema, come la Adobe MAX Europe, di cui abbiamo già parlato in [[ResocontoAdobeMAXEurope2008]]. Come note aggiuntive, scopro che diversi prodotti Adobe lato server già con interfaccia Flash sono stati migrati a Flex, come il sistema di conferencing Adobe Connect e la serie Connect. L'annuncio più interessante è invece il primo frutto della '''partnership fra Adobe e __SpringSource__''' resa pubblica all'ultima __SpringOne__, cioè [http://www.springsource.org/spring-flex|Spring BlazeDS Integration], del quale è stata rilasciata una versione M1, contenente un [http://static.springframework.org/spring/docs/2.5.x/reference/remoting.html|RemoteServiceExporter] per pubblicare i bean di Spring su BlazeDS senza doverne duplicare le configurazioni in BlazeDS. Nulla di folgorante, ma fa piacere scoprire che sia stato aperto uno spazio ufficiale dove possano confluire le iniziative di integrazione fra Spring e Flex. Sempre sul tema, ma lato __ActionScript__ e non Java, il progetto [http://www.pranaframework.org/|Prana], ossia un container IoC per Flex, entra a far parte del portafoglio di Spring, con nome [http://forum.springframework.org/showthread.php?t=64370|Spring ActionScript].

![http://www.devoxx.com/display/JV08/What%27s+New+and+Exciting+in+JPA+2.0|What's New and Exciting in JPA 2.0?]!
Riesco a seguire poco di questa presentazione, ma le '''novità di JPA 2.0''' risultano piuttosto interessanti. Innanzitutto entrano a pieno diritto nella specifica le Criteria ed Expression API, in modo da evitare di ricorrere a quanto offerto dalle implementazioni come Hibernate, ed un DSL Java per costruire le query in alternativa al [http://java.sun.com/javaee/5/docs/tutorial/doc/bnbtg.html|Query Language] attuale.
Aumentano le opzioni di locking, che ora permettono lettura e scrittura di oggetti e relativo lock in un'unica operazione atomica.
Interessante la funzione di '''unwrap''' a livello di __EntityManager__ che dovrebbe permettere di ripulire un oggetto detached da eventuali proxy ritrasformandolo in semplice POJO. Dall'__EntityManager__ è possibile ora risalire alla relativa Factory ed alla Connection JDBC sottostante, in modo da permettere di usare JDBC se necessario ancora una volta senza sfruttare API dell'implementazione di JPA sottostante.
Infine sono state introdotte delle '''Cache API''' piuttosto generiche, in modo da non limitare troppo le implementazioni che su questa feature possono anche esser molto diverse fra loro.

![http://www.devoxx.com/pages/viewpage.action?pageId=1704462|What's new in Spring Framework 3.0?]!
Presentazione a due con Alef Arendsen che cerca disperatamente di fissare i concetti base di Spring 3.0 fra gli inutili contrappunti buttati lì sproposito e con fare supponente da Arjen Poutsma. La sessione verte principalmente sull'introduzione della configurazione via annotation a supporto di quella che viene definita ''intentional programming''. Gli esempi sono quasi tutti su Spring MVC, l'ultimo modulo ad aver tratto beneficio dalle annotation nella serie 2.5, con riferimento al nuovo supporto per REST con simulazione dei metodi HTTP diversi da GET/POST/HEAD tramite un filtro che sfrutta un campo hidden come workaround e per le viste Atom/RSS e JSON. Tutto questo è presente nella 3.0, della quale è stata appena rilasciata la M1, e come esempio di applicazione si invita a guardare l'esempio [https://src.springframework.org/svn/spring-framework/tags/spring-framework-3.0.0.M1/org.springframework.samples.petclinic/|PetClinic] aggiornato in essa incluso. Nella milestone successiva arriveranno invece la selezione del tipo di view in base all'estensione o al content-type in request.
Non servono più le Mock Servlet API per i test e risulta deprecata la vecchia gerarchia di Controller, e qui quando Arjen si inserisce per far sapere che in fin dei conti lui non ricordava neanche la sequenza di chiamate dei metodi del __SimpleFormController__ tengo a bada a fatica la voglia di scendere e strangolarlo! Altre modifiche su MVC riguardano il supporto avanzato per ETag (visto come successore del Last-Modified) e per il return code 304, i.e. ''nothing has changed'', tramite calcolo di una checksum MD5 della vista, in modo da salvare banda o calcolo sfruttando al meglio i meccanismi  di caching dei browser. In ultimo l'introduzione dell'expression language nelle configurazioni, per il resto si tratta di modifiche interne rese possibili dalla rimozione del supporto per Java 1.4, che ha permesso di rendere più snello il framework, sfruttando generics ed altre caratteristiche della 1.5 in tutto il codice.

!![http://www.devoxx.com/display/JV08/Conf+Day+2|Conference Day 2]!!
----
!Keynote!
''Does it work? Yes! Should you do it that way? No! And why not?'' Il keynote del secondo giorno è in realtà una presentazione di '''Joshua Bloch''' in forma di lezioncina su alcuni applicazioni meno note quanto utili di enum e generics, come trattati nella seconda edizione del suo best-seller Effective Java, finalmente aggiornato a Java 5. Lo speaker è brillante come sempre e l'argomento molto più interessante di quanto possa sembrare agli appassionati delle ultime novità, davvero un ottimo modo per iniziare la giornata!

Segue [http://blogs.sun.com/mr/entry/jigsaw|Mark Reinhold] con un piccolo cambio di programma, lo speech sullo stato dell'arte di Java diventa un'occasione per parlare per la prima volta - con slides just-in-time - di '''Project Jigsaw''', ossia le novità sulla modularizzazione previste per Java SE 7. Dopo una discussione sulla problematica di suddividere in moduli coerenti una piattaforma che è evoluta come nuvola senza forma, si passa alla soluzione impostata, che prevede la definizione di profili analoga a quanto emerso per Java EE 6. Il concetto di classpath viene in questo modo a perdere di importanza e lascia posto ad un sistema che permetta di introdurre nella piattaforma modifiche non compatibili e di facilitare il packaging delle applicazioni java nella modalità nativa prevista dal sistema operativo, come rpm/deb/msi rispettivamente per redhat/debian/windows. Ciò significa anche che purtroppo modifiche al linguaggio pesanti, ma al contempo molto richieste, come l'introduzione delle '''closure''' e dei '''generics senza erasure''' (reified), sono posposte alla versione successiva, in modo che la loro implementazione possa essere svincolata dalle problematiche di retrocompatibilità. Di buono c'è invece il fatto che per l'implementazione della modularizzazione non sarà utilizzato il lavoro della contestata JSR 277, ritenuta eccessivamente flessibile e di scarsi risultati nonostante i 4 anni di gestazione, ma si ripartirà dalla JSR 294, in modo da puntare ad un modello interoperabile con una versione futura di '''OSGi''', cui Sun sta collaborando fattivamente all'interno del relativo consorzio.

![http://devoxx.com/display/JV08/Efficient+Enterprise+Builds|Efficient Enterprise Builds] - [http://devoxx.com/display/JV08/Jason+van+Zyl|Jason van Zyl]!
La presentazione inizia in modo inaspettatamente brillante, ma soprattutto con un messaggio fondamentale, e cioè che gli autori di Maven sanno bene che lo strumento, specialmente ora che la sua diffusione è aumentata, ha tanti sostenitori quanti detrattori, e sono interessati ad ascoltare tutte le voci sull'argomento per migliorarlo.

Dopo l'introduzione seguono alcune note sulla roadmap attuale, incentrata principalmente sul plugin di Eclipse [http://m2eclipse.sonatype.org/|m2eclipse], il cui scopo è tradurre la lingua di Maven in lingua di Eclipse. Allo scopo è stato recentemente introdotto un framework di configurazione che permette di condividere automaticamente le configurazioni dei plugin di Maven con quelli di Eclipse, come ad esempio per checkstyle. Per m2eclipse è previsto il rilascio di una versione 1.0 per la fine gennaio con un tentativo di inserirlo nel release train di Eclipse 3.5 Galileo. Segue poi qualche nota su [http://nexus.sonatype.org/|Nexus], il repository manager che fa parte del portafoglio di prodotti basati su Maven di Sonatype e del quale esiste un'istanza pubblica accessibile [http://repository.sonatype.org/index.html|qui]. Scopro qui che anche il repository principale non è una risorsa dell'Apache Foundation, ma viene gestito direttamente dal Maven PMC con le risorse a loro disposizione, da cui la preghiera a non sovraccaricarlo, usando piuttosto un repository manager come Nexus.

Ed ora veniamo al dunque, il '''futuro di Maven''' - la versione 3.0 - prevede:
	* l'introduzione di un motore headless, chiamato mercury
	* la definizione di una specifica per il Project Object Model, svincolata dal formato XML attuale di descrizione
	* dei "domain specific parser" per memorizzare il POM in diversi formati, come file XML attribute based, groovy o ruby
	* l'introduzione dei mixin in modo da gestire più facet per un progetto come fa Eclipse e non un solo parent
	* la possibilità di specificare un parent project senza versione
	* la sostituzione del container IoC adhoc (che si chiama nexus pure lui) con uno già esistente, come XBean di Apache o Guice
	* supporto compilatore di Eclipse JDT per migliorare la velocità in compilazione

Ci sarà inoltre con la versione 3.0 il rilascio ufficiale del modulo embedder, già usato in una versione beta allineata indicativamente alla 2.0.4 dalle varie integrazioni con gli IDE di NetBeans/IDEA/IntelliJ ed anche da Hudson, e che potrebbe per tal motivo produrre risultati errati. Con Hudson fra l'altro è in corso una collaborazione specifica per migliorarne il supporto a Maven e per impostare un modello di plugin compatibile fra Hudson, Maven e Nexus. C'è anche un'altra collaborazione in corso con Adobe per l'hosting dell'SDK di Flex su repository Maven e l'integrazione di Maven con il Flex Builder. In ultimo qualche nota sull'implementazione .NET [http://www.codeplex.com/nmaven|NMaven] che è stata spostata su Codeplex e sull'implementazione alternativa [http://www.codeplex.com/byldan|Byldan], che sembrano comunque iniziative slegate dal gruppo di committer di Maven.
Si chiude infine con la doverosa demo di tutte le caratteristiche di m2eclipse e di come rendano estremamente più semplice l'uso di Maven.

![http://www.devoxx.com/pages/viewpage.action?pageId=1377497|Flex & J2EE: the Granite Data Services Solution] - Franck Wolff!
Per chi non lo conoscesse [http://www.graniteds.org/|GraniteDS] è un progetto nato come alternativa opensource ai Flex Data Services di Adobe, ma poi differenziatosi negli obiettivi nel momento in cui il prodotto di Adobe è diventato esso stesso open - proprio in occasione dell'ultima __JavaPolis__ -  con nome BlazeDS, lasciando però le feature più avanzate ed ''enterprisey'' al fratello maggiore commerciale, __LiveCycle__ Data Services. Quest'anno Stephan, il quale ovviamente segue da vicino le evoluzioni delle diverse possibilità di integrare Flex e Java in modo da poterle applicare al suo progetto [http://parleys.com/|Parleys], ha pensato bene di invitarne l'autore a parlare, ''Franck Wolff''.

Oltre ad essere un sostituto di BlazeDS, il progetto copre alcune delle feature mancanti e presenti in LCDS e ne introduce anche di nuove ed interessanti, con relativi strumenti a corredo, sempre su Eclipse come il Flex Builder di Adobe. Fra le prime c'è il '''supporto per le relazioni lazy in Hibernate/JPA''', che invece in BlazeDS è lasciato allo sviluppatore, mentre in LCDS è disponibile come blackbox che può non sempre essere adatta al proprio modo di usare tali strumenti. In particolare c'è un'integrazione specifica per Seam/EJB3/JPA in un modulo chiamato TIDE che gestisce un contesto di detached entities lato client in Flex con paginazione automatica. Fra gli strumenti invece, '''GAS3''' è un'estensione che aggiunge al progetto Eclipse una ''GraniteDS nature'' che attiva la generazione automatica di oggetti __ActionScript__ ad ogni save di classi annotate come Entity.

[http://www.graniteds.org/confluence/display/DOC/3.+Data+Push+%28Gravity%29|Gravity] invece merita un discorso a sé, si tratta di un'implementazione del meccanismo di '''datapush''' che sfrutta Comet e al momento gira su Tomcat (qui scopro anche che il __CometProcessor__ di Tomcat 6 richiede la libreria JNI nativa), Jetty e presto anche Atmosphere, l'implementazione portabile separata da container, sviluppata dal team di Grizzly. Nella presentazione viene indicato come il long polling di Comet sia più firewall-friendly rispetto alla soluzione di streaming http, segue poi una demo di sviluppo di una chat, nella quale la sensazione che si ha è che lo stile di programmazione di GraniteDS, essendo molto integrato con Java EE e facendo largo uso di annotation, risulti più moderno rispetto a quanto si vede normalmente negli esempi di BlazeDS e LCDS.

Quello che sembra rimanere ancora problematico è la possibilità di '''mescolare gli approcci di BlazeDS e GraniteDS''', scegliendo feature all'occorrenza da entrambi. Alcuni elementi come il generatore di codice __AS__ o la libreria client-side di supporto ad Hibernate/JPA potrebbero essere resi indipendenti dall'implementazione lato server, invece sembra trasparire dallo speaker un eccesso di antagonismo nei confronti della soluzione Adobe che si risolve nell'ignorarla e seguire la propria strada. Peraltro questo atteggiamento, per quanto in qualche modo giustificabile dalle logiche commerciali sottostanti, è troppo presente e limitante anche nella proposta Adobe, rendendo spesso i loro tool meno utili di quanto potrebbero essere se fossero più indipendenti da BlazeDS/LCDS, e l'integrazione annunciata da __SpringSource__ del solo BlazeDS in Spring di certo non aiuta.

La presentazione termina con la '''roadmap''' di GraniteDS delle prossime versioni, oltre al già nominato supporto ad Atmosphere e a Servlet 3.0, verrà aggiunto anche quello per OSGi e Web Beans, una web console analoga a quella in BlazeDS ed un meccanismo di code generation per la parte dei service.
