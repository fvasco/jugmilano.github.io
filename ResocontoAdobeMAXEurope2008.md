Da quando Flex ha richiamato il mondo Adobe di diritto nell'orbita Java, ecco che il JugMilano non poteva non essere presente ad [http://max.adobe.com/eu/|Adobe MAX Europe], conferenza annuale europea su tutte le ultime novità dell'azienda, specie se l'evento capita in casa a Milano!

Sede dell'evento è il centro conferenze della vecchia fiera con le sue sale colorate, e qui purtroppo la struttura non regge il confronto con quanto visto a Barcellona l'anno passato, nonostante l'ottimo allestimento temporaneo.
C'è però un piacevole senso di deja-vu per il sottoscritto, in quanto è pur sempre il posto in cui ho conosciuto il JugMilano tramite FilippoDiotalevi e RenzoBorgatti nell'edizione (l'unica?) milanese del WebbIt del 2004. Last but not least, il geek in me ha sofferto per il wifi ballerino e la birre finite prestissimo... ''ma quanto siamo viziati''? Ma ora passiamo piuttosto alle cose serie, i contenuti che sono il vero motivo per il quale non si può mancare a questa conferenza!

!Flex for Java Architects - [http://www.jroller.com/francoisledroff/|François Le Droff]!
Uno dei motivi principali del giro a questo MAX è stata la possibilità di incontrare François Le Droff, con il quale avevo già avuto occasione di collaborare a distanza sul progetto opensource [http://fna.googlecode.com/|FNA], una collezione di modelli di progetto in forma di '''archetype Maven''', nati con l'obiettivo di essere rapidamente operativi su Flex in modo analogo a quanto offerto da [http://www.appfuse.org|AppFuse] con i vari framework Java EE. François fa parte del team francese di Adobe Consulting ed il progetto FNA, proprio perché nasce dalle diverse esperienze di progetto sul campo del team, rappresenta una visione più vicina al mondo reale, e pertanto più significativa, di come impostare un progetto in Flex e Java, decisamente diversa dalle dimostrazioni ed esercizi classici da documentazione e tutorial. Quando arrivo nel pomeriggio della seconda giornata di MAX, François ha già fatto uno speech in mattinata sugli strumenti per lo sviluppo agile in Flex del quale mi riassume i contenuti. É evidente come la situazione sia migliorata clamorosamente rispetto a quanto indicato l'anno precedente da Stephan Janssen nel descrivere le difficoltà dell'esperienza di sviluppo di Parleys. Oltre al plugin [http://code.google.com/p/flex-mojos/|flex-mojo] per compilare Flex via Maven e al [http://opensource.adobe.com/wiki/display/flexunit/FlexUnit|FlexUnit] a me già noti, François mi sa indicare una valanga di link ad altri strumenti usati dal suo team nello sviluppo, di cui alcuni di questi, come lo stesso FNA, sono sviluppati come opensource proprio dai vari team locali di Adobe Consulting.

Il giorno successivo c'è l'hands-on lab '''Flex for Java Architects''', che prevede una presentazione con [https://share.acrobat.com/adc/adc.do?docid=b57ae1a3-324c-4b0c-ac9c-a21c98cdde49|slide tradizionali] e le postazioni per il pubblico con alcune pagine di [https://share.acrobat.com/adc/adc.do?docid=156bfade-abf4-43d7-b1b6-8d07fce61f64|lab notes] sugli esercizi da svolgere ed i computer con la virtual machine già pronta e pre-configurata con tutto il software necessario - e ovviamente tutte le dipendenze di Maven prescaricate, altrimenti il tempo del lab sarebbe andato perso nell'attesa! L'esercizio visto insieme è proprio la creazione di un nuovo progetto generato tramite l'archetype [http://fna.googlecode.com/svn/trunk/fna/site/mvn_archetypes/blazeds-autowired-spring-hibernate-archetype/index.html|blazeds-autowired-spring-hibernate-archetype] cui ho collaborato, che usa flex-annotations per generare i proxy __ActionScript__ dagli oggetti del modello Java e sfrutta le annotation di Spring con Spring Security per minimizzare le configurazioni lato JPA/Hibernate e BlazeDS, peraltro in modo molto più sintetico di quanto faccia la versione attuale di __AppFuse__.

!Looking ahed to the next version of Flex - [http://weblogs.macromedia.com/mchotin/|Matt Chotin]!
Siccome ci piace vivere sul filo del rasoio ed aver sempre una scusa pronta e credibile se poi le nostre applicazioni non funzionano, non potevamo farci mancare la presentazione di Matt Chotin sulle ultime novità del prossimo '''Flex versione 4 aka Gumbo''': da provare subito!

Questa release 4 di Flex è una revisione massiccia del framework che in estrema sintesi fa da enabler per [http://labs.adobe.com/technologies/flashcatalyst/|Catalyst], il nuovo prodotto di Adobe nato per rendere privo di interruzioni il flusso di lavoro fra designer e sviluppatore (l'espressione '''designer-developer workflow''' verrà ripetuta come mantra durante tutta la conferenza), eliminando la frattura creata dalla scarsa integrazione fra i tool specifici dell'uno (Photoshop e Illustrator) e dell'altro (Eclipse e Flex Builder) ruolo. Ciò ha reso necessario una revisione totale della gerarchia dei componenti grafici e la sostituzione del meccanismo di customizzazione dal precedente denominato '''halo''' che permetteva solo styling via CSS e rimane nel framework ma deprecato, ed il nuovo '''spark''', che invece consente lo skinning totale dei componenti con definizione di nuovi stati del componente e la possibilità di includere elementi in base al relativo valore. Vengono inoltre introdotte in MXML primitive grafiche di basso livello ed un nuovo formato XML, con nome FXG per Flex Graphics, per definire elementi grafici statici ed abbastanza analogo ad SVG, con supporto diretto in export dai tool di Adobe CS4.

Per il resto MXML guadagna nuove funzioni ereditate dalle novità presenti nel supporto sottostante del Flash Player 10, ad esempio:
	* supporto per trasformazioni pixel per pixel
	* supporto stile word-processor per il Text Component
	* 3D simulato nelle transition
Notevole la demo in cui una semplice lista con immagini abbastanza classica viene progressivamente trasformata in un carosello circolare con prospettiva simil 3D con diversi passi di skinning.

Si termina con alcune interessanti migliorie in termini di produttività:
	* il binding bidirezionale delle variabili tramite la sintassi @{var}
	* piccoli incrementi nella velocità del compilatore, che forse non sarà mai abbastanza considerato lo stato attuale delle cose, ma lascia comunque ben sperare, nonostante il preoccupante YMMV
	* inclusione in Flex Builder della libreria client di data management presente in LCDS
	* inclusione dell'audio nella customizzazione dei componenti

Ed infine la nota dolente... alcune modifiche non sono retrocompatibili, per cui il codice va ricompilato.

!LCDS.NEXT - [http://coenraets.org/|Cristophe Conraets]!
Questa sessione è in realtà un fuori programma e non è neanche visibile nello schedule ufficiale, ma è particolarmente interessante in quanto presenta in anteprima - anche rispetto al MAX oltreoceano - alcune delle nuove feature in Flex Builder 4 e nuova versione di LCDS, ribattezzata indicativamente come Next... Il tutto ovviamente il tutto senza alcun committment effettivo sulla presenza di tali feature nelle relative versioni finali dei prodotti!
Fra l'altro la versione di Flex Builder cui si fa riferimento non è neanche quella distribuita ai partecipanti di MAX nel Gumbo Preview DVD, quindi si guarda ma non si tocca!

Quanto presentato qui serve a facilitare la creazione di '''applicazioni Flex model-driven''', sfruttando al meglio l'IDE e il supporto adhoc di LCDS.
Per far questo Adobe ignora completamente l'approccio classico della fondazione Eclipse che vuole strumenti del genere integrati nei classici progetti ''ombrello'' di Eclipse come WTP (Web Tools Project), DTP (Data Tools Project) ed EMF (Eclipse Modeling Framework) e preferisce delle view custom più leggere e semplici da usare. La view ''Remote Data Services'' contiene i riferimenti ai server LCDS ed un ''JNDI __DataSource__ Explorer'' che permette di navigare database e creare anche tramite reverse-engineering degli "Adobe Data Model", descrittori XML (il dialetto si chiamerà FML) del modello dell'applicazione cui verrà presto aggiunto un editor visuale, capace di catturare lo schema, impostare field validation e campi derivati con un semplice expression language. Nella demo vengono mostrati gli oggetti __ActionScript__ generati automaticamente e sincronizzati, la nuova libreria client di accesso ai Remote Service inclusa in Flex Builder che permette di avere più copie sincronizzate in locale degli oggetti senza duplicare le richieste sul server, come se fosse un __EntityManager__ client-side a la JPA, ed un client CRUD generato tramite drag&drop su un datagrid a partire dallo strato servizi automatico.
Vengono pertanto risolti i principali problemi (i ''pain points'' come li chiama Conraets) indicati dagli utenti di LCDS:
	* l'eccesso di configurazione e codice boilerplate (viene usato un singolo servizio per ottenere l'elenco destinazioni)
	* la perdita del supporto di autocompletamento sui proxy AS dei servizi
	* la necessità di sviluppare il backend per CRUD in casi semplici - e qui ci viene suggerito che l'implementazione LCDS poggia su standard ben noti ;)

Sarà da vedere se tali comodità saranno disponibili su Flex Builder anche per chi usa implementazioni di remoting AMF diverse da LCDS , come lo stesso BlazeDS. Qualcuno in giro osava anche suggerire che lo stesso LCDS potesse diventare open e confluire in BlazeDS...
Altre indicazioni di possibile roadmap di prodotto dovrebbero indirizzare la problematica dell'evoluzione dello schema e la necessità di "nascondere" parte dei dati lato client in casi specifici (ad esempio dati sensibili come le informazioni di salary per un oggetto employee).

--MarcelloTeodori

Le presentazioni sono disponibili in formato PDF nel [http://max.adobe.com/eu/sessions/browser/|Max 2008 Europe Session Browser]
Come sempre, un doveroso grazie da parte del JugMilano a Federica Gilardi di Adobe per la sua gentilezza e disponibilità!
